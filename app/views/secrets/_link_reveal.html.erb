<div class="mx-auto" data-controller="secret--link-builder" data-secret--link-builder-token-value=<%= @secret.access_token %>>
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <span class="relative flex justify-center">
    <div class="absolute inset-x-0 top-1/2 h-px -translate-y-1/2 bg-transparent bg-gradient-to-r from-transparent via-gray-500 to-transparent opacity-75"></div>
    <span class="relative z-10 bg-gray-100 text-gray-900 px-6 font-bold text-2xl sm:text-2xl">Share this secret link:</span>
  </span>

  <p class="mt-2 text-gray-900">This link will be visible once</p>

  <div class="overflow-hidden rounded-lg border border-gray-200 shadow-sm focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-60">
    <%= text_area_tag 'link', nil,
          class: 'w-full resize-none border-none align-top focus:ring-0 sm:text-sm text-gray-900 bg-slate-100',
          rows: 8,
          readonly: true,
          data: { "secret--link-builder-target": "link" } %>

    <div class="flex items-center justify-end gap-2 p-3 bg-slate-100">
      <button
        type="button"
        class="rounded bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700"
      > Copy Secret Link
      </button>
    </div>
  </div>
</div>
